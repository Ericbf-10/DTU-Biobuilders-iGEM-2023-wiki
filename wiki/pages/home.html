{% extends "layout.html" %}

{% block title %}FluoroLoop{% endblock %}
{% block lead %}<b>Welcome to DTU Biobuilders Team</b>{% endblock %}

{% block page_content %}

<div class="main-container">
  <img class="main-image" src="https://static.igem.wiki/teams/4811/wiki/images/pfas-map-new.gif" alt="PFAS Map">
  <div class="data-credit">Data: The Forever Pollution Project</div>
</div>

<div class="container">
  <div id="typedtext" class="col-md-12 text-center main-title">
  </div>
</div>

<div class="sky">
  <div id="duck" class="floating-duck">
    <div class="tooltip">We won 5 awards!</div>
  </div>
  <div class="container-fluid ocean">
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
  </div>
</div>


<div class="main-content">
  <div class="text-background">
    <div class="col-md-12 text-center">
      <object data="static/images/main.svg" type="image/svg+xml"></object>
      <a href="{{ url_for('pages', page='human-practices') }}" class="jump-button" style="top: 30.4%; left: 50%">Human Practices</a>
      <a href="{{ url_for('pages', page='description') }}" class="jump-button" style="top: 45%; left: 10.5%">Description</a>
      <a href="{{ url_for('pages', page='design') }}" class="jump-button" style="top: 60.5%; left: 10.5%">Design</a>
      <a href="{{ url_for('pages', page='software') }}" class="jump-button" style="top: 75.2%; left: 50%">Software</a>


      <!-- <object data="https://static.igem.wiki/teams/4811/wiki/images/main-page-new.svg" type="image/svg+xml"></object> -->
</div>
</div>

<script type="text/javascript">
      // set up text to print, each item in array is new line
    var aText = new Array(
      "Today in Denmark,",
        "the question is not where PFAS are,",
        "but where PFAS aren't."
    );
    var iSpeed = 80; // time delay of print out
    var iIndex = 0; // start printing array at this posision
    var iArrLength = aText[0].length; // the length of the text array
    var iScrollAt = 20; // start scrolling up at this many lines
    
    var iTextPos = 0; // initialise text position
    var sContents = ''; // initialise contents variable
    var iRow; // initialise current row
    
    function typewriter()
    {
    sContents =  ' ';
    iRow = Math.max(0, iIndex-iScrollAt);
    var destination = document.getElementById("typedtext");
    
    while ( iRow < iIndex ) {
      sContents += aText[iRow++] + '<br/>';
    }
    destination.innerHTML = sContents + aText[iIndex].substring(0, iTextPos) + "_";
    if ( iTextPos++ == iArrLength ) {
      iTextPos = 0;
      iIndex++;
      if ( iIndex != aText.length ) {
      iArrLength = aText[iIndex].length;
      setTimeout("typewriter()", 400);
      }
    } else {
      setTimeout("typewriter()", iSpeed);
    }
    }

    typewriter();

    lottie.loadAnimation({
    container: document.getElementById('duck'),
    renderer: 'svg',
    loop: true, 
    autoplay: true, 
    path: 'static/images/duck.json', 
    animationSpeed: 0.8,
    });

    document.getElementById('duck').addEventListener('click', function() {
      window.location.href = "{{ url_for('pages', page='award') }}";
    });

</script>

{% endblock %}